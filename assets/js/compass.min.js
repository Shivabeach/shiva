"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),Calc=function e(t){_classCallCheck(this,e),this.budget=t},Cost=function e(t,n,a){_classCallCheck(this,e),this.expense=t,this.reason=n,this.day=a},UI=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"displayCosts",value:function(){Store.getCosts().forEach(function(e){return t.addExpenseToList(e)})}},{key:"addExpenseToList",value:function(e){var t=document.querySelector(".disp"),n=document.createElement("tr");n.innerHTML="\n      <td>$"+e.expense+"</td>\n      <td>"+e.reason+"</td>\n      <td>"+e.day+'</td>\n      <td><a href="#" class="btn btn-danger btn-sm delete">X</a></td>',t.appendChild(n)}},{key:"deleteBook",value:function(e){e.classList.contains("delete")&&e.parentElement.parentElement.remove()}},{key:"clearFields",value:function(){document.querySelector("#expense").value="",document.querySelector("#reason").value="",document.querySelector("#day").value=""}},{key:"displayBudget",value:function(){var e=Store.getBudget();document.getElementById("budgetDisplay").innerHTML="$"+e}}]),t}(),Store=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"getCosts",value:function(){return null===localStorage.getItem("costs")?[]:JSON.parse(localStorage.getItem("costs"))}},{key:"addCosts",value:function(e){var t=o.getCosts();t.push(e),localStorage.setItem("costs",JSON.stringify(t))}},{key:"removeBook",value:function(n){var a=o.getCosts();a.forEach(function(e,t){e.day===n&&a.splice(t,1)}),localStorage.setItem("costs",JSON.stringify(a))}},{key:"getBudget",value:function(){return""===localStorage.getItem("calced")?[]:JSON.parse(localStorage.getItem("calced"))}}]),o}();document.addEventListener("DOMContentLoaded",UI.displayBudget()),document.addEventListener("DOMContentLoaded",UI.displayCosts()),document.getElementById("expenseForm").addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("#expense").value,n=document.querySelector("#reason").value,a=document.querySelector("#day").value;if(""===t)alert("Expense is not filled");else{var o=new Cost(t,n,a);UI.addExpenseToList(o),Store.addCosts(o),UI.clearFields()}}),document.querySelector(".disp").addEventListener("click",function(e){UI.deleteBook(e.target),Store.removeBook(e.target.parentElement.previousElementSibling.textContent)}),document.getElementById("submit").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("budget").value,n=parseFloat(t);document.querySelector("#budgetDisplay").innerHTML="$"+n,localStorage.setItem("calced",n)});