"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),Book=function e(t,o,n){_classCallCheck(this,e),this.title=t,this.author=o,this.isbn=n},UI=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"displayBooks",value:function(){Store.getBooks().forEach(function(e){return t.addBookToList(e)})}},{key:"addBookToList",value:function(e){var t=document.querySelector("#book-list"),o=document.createElement("tr");o.innerHTML="\n      <td>"+e.title+"</td>\n      <td>"+e.author+"</td>\n      <td>"+e.isbn+'</td>\n      <td><a href="#" class="btn btn-danger btn-sm delete">X</a></td>\n    ',t.appendChild(o)}},{key:"deleteBook",value:function(e){e.classList.contains("delete")&&e.parentElement.parentElement.remove()}},{key:"showAlert",value:function(e,t){var o=document.createElement("div");o.className="alert alert-"+t,o.appendChild(document.createTextNode(e));var n=document.querySelector(".container"),r=document.querySelector("#book-form");n.insertBefore(o,r),setTimeout(function(){return document.querySelector(".alert").remove()},3e3)}},{key:"clearFields",value:function(){document.querySelector("#title").value="",document.querySelector("#author").value="",document.querySelector("#isbn").value=""}}]),t}(),Store=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"getBooks",value:function(){return null===localStorage.getItem("books")?[]:JSON.parse(localStorage.getItem("books"))}},{key:"addBook",value:function(e){var t=r.getBooks();t.push(e),localStorage.setItem("books",JSON.stringify(t))}},{key:"removeBook",value:function(o){var n=r.getBooks();n.forEach(function(e,t){e.isbn===o&&n.splice(t,1)}),localStorage.setItem("books",JSON.stringify(n))}}]),r}();document.addEventListener("DOMContentLoaded",UI.displayBooks),document.querySelector("#book-form").addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("#title").value,o=document.querySelector("#author").value,n=document.querySelector("#isbn").value;if(""===t||""===o||""===n)UI.showAlert("Please fill in all fields","danger");else{var r=new Book(t,o,n);UI.addBookToList(r),Store.addBook(r),UI.showAlert("Book Added","success"),UI.clearFields()}}),document.querySelector("#book-list").addEventListener("click",function(e){UI.deleteBook(e.target),Store.removeBook(e.target.parentElement.previousElementSibling.textContent),UI.showAlert("Book Removed","success")});